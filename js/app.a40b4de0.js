(function(t){function e(e){for(var r,s,o=e[0],l=e[1],c=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},n={app:0},i=[];function s(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"98b73d7d"}[t]+".js"}function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,r){a=n[t]=[e,r]}));e.push(a[2]=r);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=s(t);var c=new Error;i=function(e){l.onerror=l.onload=null,clearTimeout(d);var a=n[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,a[1](c)}n[t]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/trello-revamp/",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("8a23"),n=a.n(r);n.a},"084a":function(t,e,a){},"08b9":function(t,e,a){"use strict";var r=a("b6f2"),n=a.n(r);n.a},"42c9":function(t,e,a){},"4d82":function(t,e,a){"use strict";var r=a("084a"),n=a.n(r);n.a},"552e":function(t,e,a){"use strict";var r=a("42c9"),n=a.n(r);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=a("0628"),i=a.n(n),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticStyle:{"background-color":"#dbdfcf"}},[a("Login",{model:{value:t.loginModal,callback:function(e){t.loginModal=e},expression:"loginModal"}}),a("v-app-bar",{attrs:{height:"45px",app:"",color:"primary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("v-btn",{staticClass:"white--text",attrs:{light:"",color:"#7da6d4",elevation:"0"}},[a("v-icon",[t._v("mdi-border-all")])],1)],1),a("v-spacer"),a("span",{staticClass:"mr-2"},[t._v("Be happy")]),a("v-avatar",{staticClass:"blue--text body-1",attrs:{color:"white"}},[t._v("D")])],1),a("v-main",[a("ListGrid"),a("v-bottom-navigation",{attrs:{absolute:""}},[a("v-btn",{attrs:{width:"100%"},on:{click:function(e){t.loginModal=!0}}},[t._v(" Save ")])],1)],1)],1)},o=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("draggable",{staticClass:"list-grid",attrs:{group:"lists"},model:{value:t.lists,callback:function(e){t.lists=e},expression:"lists"}},[t._l(t.lists,(function(e){return a("List",{key:e.id,attrs:{list:e},on:{deleteList:t.deleteList}})})),a("v-card",{staticClass:"list grey--text",attrs:{rounded:"",elevation:"10","max-height":"250px",color:"grey lighten-2"},on:{click:t.addList}},[a("div",{staticClass:"card-fill"},[a("h3",{staticClass:"plus-list"},[t._v(" +List ")])])])],2)},c=[],d=(a("c740"),a("a434"),a("310e")),u=a.n(d),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"list",attrs:{rounded:"",elevation:"10","max-height":"250px",color:"grey lighten-4"}},[t.editingTitle?a("v-text-field",{staticClass:"list-title title-edit",attrs:{"hide-details":"auto",flat:"",autofocus:"",solo:""},on:{keydown:function(e){return t.editTitleKeyDown(e)}},model:{value:t.list.title,callback:function(e){t.$set(t.list,"title",e)},expression:"list.title"}}):a("div",{staticClass:"list-title",on:{click:function(e){t.editingTitle=!0}}},[t._v(t._s(t.list.title))]),a("v-icon",{staticClass:"trash-icon",attrs:{width:"10%",right:""},on:{click:t.deleteList}},[t._v("mdi-delete")]),a("div",{staticClass:"list-body"},[a("draggable",{attrs:{group:"cards"},model:{value:t.list.cards,callback:function(e){t.$set(t.list,"cards",e)},expression:"list.cards"}},t._l(t.list.cards.filter((function(t){return!t.hidden})),(function(e){return a("Card",{key:e.id,attrs:{card:e},nativeOn:{click:function(a){return t.openEdit(e)}}})})),1),t.newCard?a("v-card",{staticClass:"new-card"},[a("v-text-field",{attrs:{"hide-details":"auto",flat:"",autofocus:"",solo:""},on:{keydown:function(e){return t.newCardKeyDown(e)}},model:{value:t.list.cards.slice(-1)[0].text,callback:function(e){t.$set(t.list.cards.slice(-1)[0],"text",e)},expression:"list.cards.slice(-1)[0].text"}})],1):t._e()],1),a("v-card",{attrs:{flat:""},on:{click:t.addCard}},[a("v-btn",{staticClass:"add-card",attrs:{block:"",depressed:"",color:"grey lighten-4 grey--text"}},[t._v(" + Add Card ")])],1),a("EditCard",{attrs:{editing:t.editingCard,card:t.currentCard},on:{edited:function(e){t.editingCard=!1},"click:outside":function(e){t.editingCard=!1},deleteCard:t.deleteCard}})],1)},p=[],v=(a("fb6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"card"},[t._v(t._s(t.card.text))])],1)}),m=[],h={name:"Card",props:["card"]},g=h,b=(a("fed7"),a("2877")),w=a("6544"),x=a.n(w),y=a("b0af"),k=Object(b["a"])(g,v,m,!1,null,"c5bcb740",null),C=k.exports;x()(k,{VCard:y["a"]});var _=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{staticClass:"dialog",attrs:{"max-width":"450px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-form",[a("div",{staticClass:"edit"},[a("v-textarea",{attrs:{solo:"",autofocus:"",required:"","no-resize":""},on:{keydown:t.handleKeydown},model:{value:t.card.text,callback:function(e){t.$set(t.card,"text",e)},expression:"card.text"}})],1)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Save ")])],1)],1)],1)},R=[],j={name:"EditCard",props:["editing","card"],components:{},data:function(){return{dialog:!1}},watch:{dialog:function(t){t||this.$emit("edited",!0)},editing:function(t){t&&(this.dialog=!0)}},methods:{handleKeydown:function(t){"Enter"==t.key&&(this.dialog=!1,this.$emit("edited",!0),t.preventDefault())},deleteCard:function(){this.$emit("deleteCard",this.card.id),this.dialog=!1,this.$emit("edited",!0)}}},V=j,M=(a("4d82"),a("8336")),$=a("99d9"),L=a("169a"),E=a("4bd4"),O=a("2fa4"),P=a("a844"),T=Object(b["a"])(V,_,R,!1,null,"86e82508",null),I=T.exports;x()(T,{VBtn:M["a"],VCard:y["a"],VCardActions:$["a"],VDialog:L["a"],VForm:E["a"],VSpacer:O["a"],VTextarea:P["a"]});var q={name:"List",props:["list"],components:{draggable:u.a,Card:C,EditCard:I},data:function(){return{editingTitle:!1,editingCard:!1,newCard:!1,runningIndex:0,currentCard:{}}},methods:{addCard:function(){var t={id:this.runningIndex,text:"",hidden:!0};this.runningIndex++,this.list.cards.push(t),this.newCard=!0},openEdit:function(t){this.editingCard=!0,this.currentCard=t},newCardKeyDown:function(t){"Enter"==t.key&&(this.list.cards.slice(-1)[0].hidden=!1,this.newCard=!1)},editTitleKeyDown:function(t){"Enter"==t.key&&(this.editingTitle=!1)},deleteCard:function(t){var e=this.list.cards.findIndex((function(e){return e.id==t}));this.list.cards.splice(e,1)},deleteList:function(){this.$emit("deleteList",this.list.id)}},mounted:function(){this.editingTitle=!this.list.title}},S=q,A=(a("552e"),a("132d")),D=a("8654"),B=Object(b["a"])(S,f,p,!1,null,"2c49b9ff",null),K=B.exports;x()(B,{VBtn:M["a"],VCard:y["a"],VIcon:A["a"],VTextField:D["a"]});var F={name:"ListGrid",components:{draggable:u.a,List:K},data:function(){return{lists:[],runningIndex:0}},methods:{addList:function(){this.lists.push({id:this.runningIndex,title:"",cards:[]}),this.runningIndex++},deleteList:function(t){var e=this.lists.findIndex((function(e){return e.id==t}));this.lists.splice(e,1)}}},G=F,H=(a("08b9"),Object(b["a"])(G,l,c,!1,null,"7a5b8188",null)),J=H.exports;x()(H,{VCard:y["a"]});var z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{value:t.loginModal,"max-width":"450px"},on:{input:t.closeLoginModal}},[a("v-card",{staticClass:"card"},[a("v-card-title",[t._v(" Login before you can save to your account ")]),a("v-container",[a("v-text-field",{attrs:{rules:t.emailRules,name:"email",label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{rules:[t.fieldRequiredRule],name:"password",label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-btn",{staticClass:"login-button",on:{click:t.login}},[t._v("Login")]),a("v-btn",{staticClass:"open-register-modal-button",on:{click:function(e){t.loginModal=!1,t.registerModal=!0}}},[t._v("Register instead")])],1)],1)],1),a("v-dialog",{attrs:{value:t.registerModal,"max-width":"450px"},on:{input:t.closeRegisterModal}},[a("v-card",{staticClass:"card"},[a("v-card-title",[t._v(" Register a new user ")]),a("v-container",[a("v-text-field",{attrs:{rules:t.emailRules,name:"email",label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{rules:[t.fieldRequiredRule],name:"password",label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{rules:t.passwordRules,name:"repeat-password",label:"Repeat Password",type:"password"},model:{value:t.repeatPassword,callback:function(e){t.repeatPassword=e},expression:"repeatPassword"}}),a("v-btn",{staticClass:"register-button",on:{click:t.register}},[t._v("Register")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"450px"},model:{value:t.error.display,callback:function(e){t.$set(t.error,"display",e)},expression:"error.display"}},[a("v-card",{staticClass:"card"},[a("v-card-title",[t._v(" Authentication error ")]),a("v-container",[a("p",[t._v(t._s(t.error.message))]),a("v-btn",{staticClass:"open-register-modal-button",on:{click:function(e){t.error.display=!1}}},[t._v("Ok")])],1)],1)],1)],1)},N=[],U=(a("96cf"),a("1da1")),Q=a("bc3a"),W=a.n(Q),X={},Y=function(t){return{register:function(e,a){return t.mockResources?X[e]?{ok:!1,error:"Username already registered"}:(X[e]=a,{ok:!0}):W.a.post("https://fastapi-jwt-server.herokuapp.com/register",{username:e,password:a,role:"user"}).then((function(t){return t.data}))},authenticate:function(e,a){return t.mockResources?X[e]==a?{ok:!0,jwt:"mocktoken"}:{ok:!1,error:"Invalid username/password pair"}:W.a.post("https://fastapi-jwt-server.herokuapp.com/authenticate",{username:e,password:a}).then((function(t){return t.data}))},delete:function(e,a){return t.mockResources?X[e]==a?(delete X[e],{ok:!0}):{ok:!1}:W.a.post("https://fastapi-jwt-server.herokuapp.com/delete",{username:e,password:a}).then((function(t){return t.data}))}}},Z={auth:Y},tt={mockResources:!1},et={get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tt;return Z[t](e)}},at={name:"Login",props:["value"],data:function(){var t=this;return{loginModal:this.value,registerModal:!1,authRepository:et.get("auth",this.$root.config),email:"",password:"",repeatPassword:"",fieldRequiredRule:function(t){return!!t||"This field is required"},emailRules:[function(e){return t.fieldRequiredRule(e)},function(t){return!!t||"Email is required"},function(t){return/.+@.+/.test(t)||"Invalid email format"}],passwordRules:[function(e){return t.fieldRequiredRule(e)||"This field is required"},function(){return t.password==t.repeatPassword||"Passwords don't match"}],error:{display:!1,message:""}}},watch:{value:function(t){t?this.loginModal=!0:(this.loginModal=!1,this.registerModal=!1)}},methods:{login:function(){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.authRepository.authenticate(t.email,t.password);case 2:a=e.sent,a.ok?(t.$session.start(),t.$session.set("jwt",a.jwt)):(t.error.display=!0,t.error.message=a.error);case 4:case"end":return e.stop()}}),e)})))()},register:function(){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.authRepository.register(t.email,t.password);case 2:if(a=e.sent,!a.ok){e.next=11;break}return e.next=6,t.authRepository.authenticate(t.email,t.password);case 6:a=e.sent,t.$session.start(),t.$session.set("jwt",a.jwt),e.next=13;break;case 11:t.error.display=!0,t.error.message=a.error;case 13:case"end":return e.stop()}}),e)})))()},closeLoginModal:function(){this.loginModal=!1,this.registerModal||this.$emit("input",!1)},closeRegisterModal:function(){this.registerModal=!1,this.loginModal||this.$emit("input",!1)}}},rt=at,nt=(a("f7ea"),a("a523")),it=Object(b["a"])(rt,z,N,!1,null,"4a51d320",null),st=it.exports;x()(it,{VBtn:M["a"],VCard:y["a"],VCardTitle:$["b"],VContainer:nt["a"],VDialog:L["a"],VTextField:D["a"]});var ot={name:"App",components:{Login:st,ListGrid:J},data:function(){return{loginModal:!1}}},lt=ot,ct=(a("034f"),a("7496")),dt=a("40dc"),ut=a("8212"),ft=a("b81c"),pt=a("f6c4"),vt=Object(b["a"])(lt,s,o,!1,null,null,null),mt=vt.exports;x()(vt,{VApp:ct["a"],VAppBar:dt["a"],VAvatar:ut["a"],VBottomNavigation:ft["a"],VBtn:M["a"],VIcon:A["a"],VMain:pt["a"],VSpacer:O["a"]});a("d3b7");var ht=a("8c4f"),gt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},bt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("img",{attrs:{alt:"Vue logo",src:a("cf05")}})])}],wt={name:"Home",components:{}},xt=wt,yt=Object(b["a"])(xt,gt,bt,!1,null,null,null),kt=yt.exports;r["a"].use(ht["a"]);var Ct=[{path:"/",name:"Home",component:kt},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],_t=new ht["a"]({mode:"history",base:"/trello-revamp/",routes:Ct}),Rt=_t,jt=a("f309"),Vt=a("c0a4"),Mt=a.n(Vt);r["a"].use(jt["a"]);var $t=new jt["a"]({theme:{themes:{light:{primary:Mt.a.blue.darken3}}}});r["a"].config.productionTip=!1,r["a"].use(i.a,{persist:!0});var Lt={mockResources:!1};new r["a"]({router:Rt,vuetify:$t,render:function(t){return t(mt)},data:{config:Lt}}).$mount("#app")},"754f":function(t,e,a){},"8a23":function(t,e,a){},b6f2:function(t,e,a){},cf05:function(t,e,a){t.exports=a.p+"img/logo.82b9c7a5.png"},f308:function(t,e,a){},f7ea:function(t,e,a){"use strict";var r=a("f308"),n=a.n(r);n.a},fed7:function(t,e,a){"use strict";var r=a("754f"),n=a.n(r);n.a}});
//# sourceMappingURL=app.a40b4de0.js.map